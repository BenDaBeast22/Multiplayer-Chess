{"ast":null,"code":"var _jsxFileName = \"/Users/benjamincritoph/Programming/React/chess/src/Square.js\";\nimport './Square.css';\nimport React from 'react'; // Chess piece images: https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dragOver: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDragStart = this.handleDragStart.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handlePromote = this.handlePromote.bind(this);\n  }\n\n  handleClick() {\n    if (this.props.isCheckmate || this.props.draw) {\n      return;\n    }\n\n    this.props.selectPiece();\n  }\n\n  handleDragStart(e) {\n    // e.dataTransfer.setData(\"pos\", this.props.pos);\n    e.dataTransfer.effectAllowed = \"move\";\n    if (!this.props.isSelected) this.props.selectPiece(); // e.transfer.setData(\"pos\", this.props.pos);\n  }\n\n  handleDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    const {\n      piece,\n      turn\n    } = this.props;\n    if (piece.type === turn) this.setState({\n      dragOver: true\n    });\n  }\n\n  handleDragLeave(e) {\n    const {\n      piece,\n      turn\n    } = this.props;\n    if (piece.type === turn) this.setState({\n      dragOver: false\n    });\n  }\n\n  handleDrop(e) {\n    e.preventDefault(); // const selectedPiece = e.dataTransfer.getData(\"pos\");\n\n    const movedSqr = this.props.pos;\n    this.props.dropMove(movedSqr);\n  }\n\n  handlePromote() {\n    const {\n      promotePos,\n      selectorSquare,\n      selectPromote\n    } = this.props;\n    selectPromote(promotePos, selectorSquare);\n  }\n\n  render() {\n    const {\n      piece,\n      isLegal,\n      selectorSquare,\n      turn\n    } = this.props;\n    const {\n      dragOver\n    } = this.state;\n    const classes = \"square\" + (this.props.isDark ? \" dark\" : \" light\") + (this.props.isSelected ? \" selected\" : \"\" + (this.props.inCheck ? \" inCheck\" : \"\") + (this.props.draw ? \" draw\" : \"\"));\n    console.log(piece.type);\n    const dragClasses = turn === piece.type && dragOver && isLegal ? \" hover\" : \"\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !selectorSquare ? /*#__PURE__*/_jsxDEV(\"td\", {\n        onClick: this.handleClick,\n        className: classes + dragClasses,\n        onDragOver: this.handleDragOver,\n        onDrop: this.handleDrop,\n        onDragLeave: this.handleDragLeave,\n        children: piece !== '-' ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"piece\",\n          src: `./images/${piece.imgName}.png`,\n          onDragStart: this.handleDragStart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: `${isLegal && !dragOver ? 'fa-solid fa-circle legal' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"Selector\",\n        onClick: this.handlePromote,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"piece\",\n          src: `./images/${selectorSquare.imgName}.png`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Square;","map":{"version":3,"names":["React","Square","Component","constructor","props","state","dragOver","handleClick","bind","handleDragStart","handleDragOver","handleDrop","handleDragLeave","handlePromote","isCheckmate","draw","selectPiece","e","dataTransfer","effectAllowed","isSelected","stopPropagation","preventDefault","piece","turn","type","setState","movedSqr","pos","dropMove","promotePos","selectorSquare","selectPromote","render","isLegal","classes","isDark","inCheck","console","log","dragClasses","imgName"],"sources":["/Users/benjamincritoph/Programming/React/chess/src/Square.js"],"sourcesContent":["import './Square.css';\nimport React from 'react';\n// Chess piece images: https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\n\nclass Square extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {dragOver: false}\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDragStart = this.handleDragStart.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handlePromote = this.handlePromote.bind(this);\n  }\n  handleClick() {\n    if (this.props.isCheckmate || this.props.draw) {\n      return;\n    }\n    this.props.selectPiece();\n  }\n  handleDragStart(e) {\n    // e.dataTransfer.setData(\"pos\", this.props.pos);\n    e.dataTransfer.effectAllowed = \"move\";\n    if (!this.props.isSelected) this.props.selectPiece();\n    // e.transfer.setData(\"pos\", this.props.pos);\n  }\n  handleDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    const {piece, turn} = this.props;\n    if (piece.type === turn) this.setState({dragOver: true})\n  }\n  handleDragLeave(e) {\n    const {piece, turn} = this.props;\n    if (piece.type === turn) this.setState({dragOver: false});\n  }\n  handleDrop(e) {\n    e.preventDefault();\n    // const selectedPiece = e.dataTransfer.getData(\"pos\");\n    const movedSqr = this.props.pos;\n    this.props.dropMove(movedSqr);\n  }\n  handlePromote() {\n    const {promotePos, selectorSquare, selectPromote} = this.props;\n    selectPromote(promotePos, selectorSquare);\n  }\n  render(){\n    const {piece, isLegal, selectorSquare, turn} = this.props;\n    const {dragOver} = this.state;\n    const classes = \"square\" + (this.props.isDark ? \" dark\" : \" light\") + (this.props.isSelected ? \" selected\": \"\" + (this.props.inCheck ? \" inCheck\": \"\") + (this.props.draw ? \" draw\" : \"\"));\n    console.log(piece.type)\n    const dragClasses = (turn === piece.type && dragOver && isLegal) ? \" hover\" : \"\";\n    return (\n      <>\n        {\n          !selectorSquare?\n            <td onClick={this.handleClick} className={classes+dragClasses} onDragOver={this.handleDragOver} onDrop={this.handleDrop} onDragLeave={this.handleDragLeave}>\n            {\n              piece !== '-'? \n                <img className=\"piece\" src={`./images/${piece.imgName}.png`} onDragStart={this.handleDragStart}/>\n              : \n                <i className={`${isLegal && !dragOver? 'fa-solid fa-circle legal': ''}`}/>\n            }\n            </td>\n          :\n          <td className=\"Selector\" onClick={this.handlePromote}>\n            <img className=\"piece\" src={`./images/${selectorSquare.imgName}.png`}/>\n          </td>\n        }\n      </>\n    );\n  }\n}\n\nexport default Square;"],"mappings":"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"},"metadata":{},"sourceType":"module"}