{"ast":null,"code":"var _jsxFileName = \"/Users/benjamincritoph/Programming/React/chess/src/Square.js\";\nimport './Square.css';\nimport React from 'react'; // Chess piece images: https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDragStart = this.handleDragStart.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n  }\n\n  handleClick() {\n    if (this.props.isCheckmate || this.props.draw) {\n      return;\n    }\n\n    this.props.selectPiece();\n  }\n\n  handleDragStart(e) {\n    console.log('dragStart', this.props.pos);\n    e.dataTransfer.setData(\"pos\", this.props.pos);\n    e.dataTransfer.effectAllowed = \"move\";\n    console.log(e.dataTransfer);\n    this.props.selectPiece(); // e.transfer.setData(\"pos\", this.props.pos);\n  }\n\n  handleDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    console.log(\"Dragging\");\n  }\n\n  handleDrop(e) {\n    e.preventDefault();\n    const selectedPiece = e.dataTransfer.getData(\"pos\");\n    const movedSqr = this.props.pos;\n    console.log(\"Pos: \", this.props.pos);\n    this.props.dropMove(selectedPiece, movedSqr);\n  }\n\n  render() {\n    const classes = \"square\" + (this.props.isDark ? \" dark\" : \" light\") + (this.props.isSelected ? \" selected\" : \"\" + (this.props.inCheck ? \" inCheck\" : \"\") + (this.props.draw ? \" draw\" : \"\"));\n    const {\n      piece,\n      isLegal,\n      pos\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      onClick: this.handleClick,\n      className: classes,\n      onDragOver: this.handleDragOver,\n      onDrop: this.handleDrop,\n      children: piece !== '-' ? /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"piece\",\n        src: `./images/${piece.imgName}.png`,\n        onDragStart: this.handleDragStart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `${isLegal ? 'fa-solid fa-circle legal' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Square;","map":{"version":3,"names":["React","Square","Component","constructor","props","handleClick","bind","handleDragStart","handleDragOver","handleDrop","isCheckmate","draw","selectPiece","e","console","log","pos","dataTransfer","setData","effectAllowed","stopPropagation","preventDefault","selectedPiece","getData","movedSqr","dropMove","render","classes","isDark","isSelected","inCheck","piece","isLegal","imgName"],"sources":["/Users/benjamincritoph/Programming/React/chess/src/Square.js"],"sourcesContent":["import './Square.css';\nimport React from 'react';\n// Chess piece images: https://commons.wikimedia.org/wiki/Category:SVG_chess_pieces\n\nclass Square extends React.Component {\n  constructor(props){\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDragStart = this.handleDragStart.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n  }\n  handleClick() {\n    if (this.props.isCheckmate || this.props.draw) {\n      return;\n    }\n    this.props.selectPiece();\n  }\n  handleDragStart(e) {\n    console.log('dragStart', this.props.pos);\n    e.dataTransfer.setData(\"pos\", this.props.pos);\n    e.dataTransfer.effectAllowed = \"move\";\n    console.log(e.dataTransfer);\n    this.props.selectPiece();\n    // e.transfer.setData(\"pos\", this.props.pos);\n  }\n  handleDragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    console.log(\"Dragging\");\n  }\n  handleDrop(e) {\n    e.preventDefault();\n    const selectedPiece = e.dataTransfer.getData(\"pos\");\n    const movedSqr = this.props.pos;\n    console.log(\"Pos: \", this.props.pos);\n    this.props.dropMove(selectedPiece, movedSqr);\n  }\n  render(){\n    const classes = \"square\" + (this.props.isDark ? \" dark\" : \" light\") + (this.props.isSelected ? \" selected\": \"\" + (this.props.inCheck ? \" inCheck\": \"\") + (this.props.draw ? \" draw\" : \"\"));\n    const {piece, isLegal, pos} = this.props;\n    return (\n      <td onClick={this.handleClick} className={classes} onDragOver={this.handleDragOver} onDrop={this.handleDrop}>\n        {\n          piece !== '-'? \n            <img className=\"piece\" src={`./images/${piece.imgName}.png`} onDragStart={this.handleDragStart}/>\n          : \n            <i className={`${isLegal? 'fa-solid fa-circle legal': ''}`}/>\n        }\n      </td>\n    );\n  }\n}\n\nexport default Square;"],"mappings":";AAAA,OAAO,cAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;;;AAEA,MAAMC,MAAN,SAAqBD,KAAK,CAACE,SAA3B,CAAqC;EACnCC,WAAW,CAACC,KAAD,EAAO;IAChB,MAAMA,KAAN;IACA,KAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;IACA,KAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;IACA,KAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKG,UAAL,GAAkB,KAAKA,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,CAAlB;EACD;;EACDD,WAAW,GAAG;IACZ,IAAI,KAAKD,KAAL,CAAWM,WAAX,IAA0B,KAAKN,KAAL,CAAWO,IAAzC,EAA+C;MAC7C;IACD;;IACD,KAAKP,KAAL,CAAWQ,WAAX;EACD;;EACDL,eAAe,CAACM,CAAD,EAAI;IACjBC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKX,KAAL,CAAWY,GAApC;IACAH,CAAC,CAACI,YAAF,CAAeC,OAAf,CAAuB,KAAvB,EAA8B,KAAKd,KAAL,CAAWY,GAAzC;IACAH,CAAC,CAACI,YAAF,CAAeE,aAAf,GAA+B,MAA/B;IACAL,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACI,YAAd;IACA,KAAKb,KAAL,CAAWQ,WAAX,GALiB,CAMjB;EACD;;EACDJ,cAAc,CAACK,CAAD,EAAI;IAChBA,CAAC,CAACO,eAAF;IACAP,CAAC,CAACQ,cAAF;IACAP,OAAO,CAACC,GAAR,CAAY,UAAZ;EACD;;EACDN,UAAU,CAACI,CAAD,EAAI;IACZA,CAAC,CAACQ,cAAF;IACA,MAAMC,aAAa,GAAGT,CAAC,CAACI,YAAF,CAAeM,OAAf,CAAuB,KAAvB,CAAtB;IACA,MAAMC,QAAQ,GAAG,KAAKpB,KAAL,CAAWY,GAA5B;IACAF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKX,KAAL,CAAWY,GAAhC;IACA,KAAKZ,KAAL,CAAWqB,QAAX,CAAoBH,aAApB,EAAmCE,QAAnC;EACD;;EACDE,MAAM,GAAE;IACN,MAAMC,OAAO,GAAG,YAAY,KAAKvB,KAAL,CAAWwB,MAAX,GAAoB,OAApB,GAA8B,QAA1C,KAAuD,KAAKxB,KAAL,CAAWyB,UAAX,GAAwB,WAAxB,GAAqC,MAAM,KAAKzB,KAAL,CAAW0B,OAAX,GAAqB,UAArB,GAAiC,EAAvC,KAA8C,KAAK1B,KAAL,CAAWO,IAAX,GAAkB,OAAlB,GAA4B,EAA1E,CAA5F,CAAhB;IACA,MAAM;MAACoB,KAAD;MAAQC,OAAR;MAAiBhB;IAAjB,IAAwB,KAAKZ,KAAnC;IACA,oBACE;MAAI,OAAO,EAAE,KAAKC,WAAlB;MAA+B,SAAS,EAAEsB,OAA1C;MAAmD,UAAU,EAAE,KAAKnB,cAApE;MAAoF,MAAM,EAAE,KAAKC,UAAjG;MAAA,UAEIsB,KAAK,KAAK,GAAV,gBACE;QAAK,SAAS,EAAC,OAAf;QAAuB,GAAG,EAAG,YAAWA,KAAK,CAACE,OAAQ,MAAtD;QAA6D,WAAW,EAAE,KAAK1B;MAA/E;QAAA;QAAA;QAAA;MAAA,QADF,gBAGE;QAAG,SAAS,EAAG,GAAEyB,OAAO,GAAE,0BAAF,GAA8B,EAAG;MAAzD;QAAA;QAAA;QAAA;MAAA;IALN;MAAA;MAAA;MAAA;IAAA,QADF;EAUD;;AA/CkC;;AAkDrC,eAAe/B,MAAf"},"metadata":{},"sourceType":"module"}