{"ast":null,"code":"import { arrayEquals } from './Helpers';\nimport { King } from './Pieces';\nconst BLACK = false;\nconst WHITE = true;\n\nclass ChessGame {\n  constructor() {\n    this.turn = WHITE;\n  }\n\n  isLegalMove(legalMoves, endPos) {\n    // Check that move is legal\n    for (let move of legalMoves) {\n      if (arrayEquals(move, endPos)) {\n        return true;\n      }\n    }\n  }\n\n  move(board, startPos, endPos, piece, kingPos) {\n    // If legal move\n    const [a, b] = startPos;\n    const [x, y] = endPos;\n    const kIdx = piece.type ? 0 : 1;\n    const legalMoves = piece.allowedMoves(board, startPos, piece, kingPos[kIdx]);\n    if (piece instanceof King) if (this.isLegalMove(legalMoves, endPos)) {\n      if (piece instanceof King) {\n        kingPos = endPos;\n      }\n\n      board[a][b] = \"-\";\n      board[x][y] = piece;\n      return [board, kingPos];\n    }\n    return [false, kingPos];\n  }\n\n}\n\nexport default ChessGame;","map":{"version":3,"names":["arrayEquals","King","BLACK","WHITE","ChessGame","constructor","turn","isLegalMove","legalMoves","endPos","move","board","startPos","piece","kingPos","a","b","x","y","kIdx","type","allowedMoves"],"sources":["/Users/benjamincritoph/Programming/React/chess/src/ChessGame.js"],"sourcesContent":["import { arrayEquals } from './Helpers';\nimport { King } from './Pieces';\n\nconst BLACK = false;\nconst WHITE = true;\n\nclass ChessGame {\n  constructor(){\n    this.turn = WHITE;\n  }\n  isLegalMove(legalMoves, endPos){\n    // Check that move is legal\n    for(let move of legalMoves){\n      if(arrayEquals(move, endPos)){\n        return true;\n      }\n    }\n  }\n  move(board, startPos, endPos, piece, kingPos) {\n    // If legal move\n    const [a, b] = startPos;\n    const [x, y] = endPos;\n    const kIdx = piece.type? 0 : 1;\n    const legalMoves = piece.allowedMoves(board, startPos, piece, kingPos[kIdx]);\n    if (piece instanceof King) \n    if (this.isLegalMove(legalMoves, endPos)){\n      if (piece instanceof King) {\n        kingPos = endPos;\n      }\n      board[a][b] = \"-\";\n      board[x][y] = piece;\n      return [board, kingPos];\n    }\n    return [false, kingPos];\n  }\n}\n\nexport default ChessGame;"],"mappings":"AAAA,SAASA,WAAT,QAA4B,WAA5B;AACA,SAASC,IAAT,QAAqB,UAArB;AAEA,MAAMC,KAAK,GAAG,KAAd;AACA,MAAMC,KAAK,GAAG,IAAd;;AAEA,MAAMC,SAAN,CAAgB;EACdC,WAAW,GAAE;IACX,KAAKC,IAAL,GAAYH,KAAZ;EACD;;EACDI,WAAW,CAACC,UAAD,EAAaC,MAAb,EAAoB;IAC7B;IACA,KAAI,IAAIC,IAAR,IAAgBF,UAAhB,EAA2B;MACzB,IAAGR,WAAW,CAACU,IAAD,EAAOD,MAAP,CAAd,EAA6B;QAC3B,OAAO,IAAP;MACD;IACF;EACF;;EACDC,IAAI,CAACC,KAAD,EAAQC,QAAR,EAAkBH,MAAlB,EAA0BI,KAA1B,EAAiCC,OAAjC,EAA0C;IAC5C;IACA,MAAM,CAACC,CAAD,EAAIC,CAAJ,IAASJ,QAAf;IACA,MAAM,CAACK,CAAD,EAAIC,CAAJ,IAAST,MAAf;IACA,MAAMU,IAAI,GAAGN,KAAK,CAACO,IAAN,GAAY,CAAZ,GAAgB,CAA7B;IACA,MAAMZ,UAAU,GAAGK,KAAK,CAACQ,YAAN,CAAmBV,KAAnB,EAA0BC,QAA1B,EAAoCC,KAApC,EAA2CC,OAAO,CAACK,IAAD,CAAlD,CAAnB;IACA,IAAIN,KAAK,YAAYZ,IAArB,EACA,IAAI,KAAKM,WAAL,CAAiBC,UAAjB,EAA6BC,MAA7B,CAAJ,EAAyC;MACvC,IAAII,KAAK,YAAYZ,IAArB,EAA2B;QACzBa,OAAO,GAAGL,MAAV;MACD;;MACDE,KAAK,CAACI,CAAD,CAAL,CAASC,CAAT,IAAc,GAAd;MACAL,KAAK,CAACM,CAAD,CAAL,CAASC,CAAT,IAAcL,KAAd;MACA,OAAO,CAACF,KAAD,EAAQG,OAAR,CAAP;IACD;IACD,OAAO,CAAC,KAAD,EAAQA,OAAR,CAAP;EACD;;AA5Ba;;AA+BhB,eAAeV,SAAf"},"metadata":{},"sourceType":"module"}